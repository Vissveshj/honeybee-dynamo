<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>honeybeex.honeybee.radiance.command.rfluxmtx API documentation</title>
    <meta name="description" content="" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>

  <!-- highlight.js for highlighting source code. -->
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/highlight.min.js"></script>

  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 0.9em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    margin-left: 25%;
    max-width: 90%;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    position: fixed;
    height: 100%;
    width: 25%;
    float: left;
    padding: 30px;
    overflow-x: hidden;
    overflow-y: auto;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; }

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;

      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: auto;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }

  .desc {
    white-space: pre-wrap;
  }

  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
        position: inherit;
        float: none;
        width: auto;
    }
    #content {
      width: 95%;
      margin-left: auto;
      border-left: none;
      padding: 30px;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>


  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx">Rfluxmtx</a></span>
        
          
  <ul>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.normspace">normspace</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.__init__">__init__</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.addControlParameters">addControlParameters</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkForRfluxParameters">checkForRfluxParameters</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkInputFiles">checkInputFiles</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.defaultSkyGround">defaultSkyGround</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.execute">execute</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onExecution">onExecution</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onToRadString">onToRadString</a></li>
    <li class="mono"><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.toRadString">toRadString</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">honeybeex.honeybee.radiance.command.rfluxmtx</span> module</h1>
  
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx" class="source">
    <pre><code># coding=utf-8

from _commandbase import RadianceCommand
from ..datatype import RadiancePath, RadianceValue
from ..parameters.rfluxmtx import RfluxmtxParameters

import os



class Rfluxmtx(RadianceCommand):
    groundString = """
    void glow ground_glow
    0
    0
    4 1 1 1 0

    ground_glow source ground
    0
    0
    4 0 0 -1 180
    """

    skyString = """
    void glow sky_glow
    0
    0
    4 1 1 1 0

    sky_glow source sky
    0
    0
    4 0 0 1 180
    """

    class ControlParameters(object):
        def __init__(self, hemiType='u', hemiUpDirection='Y', outputFile=''):
            """Set the values for hemispheretype, hemisphere up direction
            and output file location(optional)."""
            self.hemisphereType = hemiType
            """
                The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).
                    kf for klems full.
                    kh for klems half.
                    kq for klems quarter.
                    rN for Reinhart - Tregenza type skies. N stands for subdivisions and defaults to 1.
                    scN for shirley-chiu subdivisions."""
            self.hemisphereUpDirection = hemiUpDirection
            """The acceptable inputs for hemisphere direction are %s""" % \
            (",".join(('X', 'Y', 'Z', 'x', 'y', 'z', '-X', '-Y',
                       '-Z', '-x', '-y', '-z')))
            self.outputFile = outputFile

        @property
        def hemisphereType(self):
            return self._hemisphereType

        @hemisphereType.setter
        def hemisphereType(self, value):
            """
                The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).\n
                    kf for klems full.\n
                    kh for klems half.\n
                    kq for klems quarter.\n
                    rN for Reinhart - Tregenza type skies. N stands for subdivisions and defaults to 1.\n
                    scN for shirley-chiu subdivisions."""
            if value:
                if value in ('u', 'kf', 'kh', 'kq'):
                    self._hemisphereType = value
                    return
                elif value.startswith('r'):
                    if len(value) > 1:
                        try:
                            num = int(value[1:])
                        except ValueError:
                            raise Exception(
                                "The format reinhart tregenza type skies is rN ."
                                "The value entered was %s" % value)
                    else:
                        num = ''
                    self._hemisphereType = 'r' + str(num)
                elif value.startswith('sc'):
                    if len(value) > 2:
                        try:
                            num = int(value[2:])
                        except ValueError:
                            raise Exception(
                                "The format for ShirleyChiu type values is scN."
                                "The value entered was %s" % value)
                    else:
                        raise Exception(
                            "The format for ShirleyChiu type values is scN."
                            "The value entered was %s" % value)
                    self._hemisphereType = 'sc' + str(num)
                else:
                    exceptStr = """
                    The acceptable inputs for hemisphere type are:
                        u for uniform.(Usually applicable for ground).
                        kf for klems full.
                        kh for klems half.
                        kq for klems quarter.
                        rN for Reinhart - Tregenza type skies. N stands for
                            subdivisions and defaults to 1.
                        scN for shirley-chiu subdivisions.
                    The value entered was %s
                    """ % (value)
                    raise Exception(exceptStr)

        @property
        def hemisphereUpDirection(self):
            return self._hemisphereUpDirection

        @hemisphereUpDirection.setter
        def hemisphereUpDirection(self, value):
            """The acceptable inputs for hemisphere direction are 'X', 'Y',
            'Z', 'x', 'y', 'z', '-X', '-Y','-Z', '-x', '-y','-z'"""
            if value:
                allowedValues = ('X', 'Y', 'Z', 'x', 'y', 'z', '-X', '-Y',
                                 '-Z', '-x', '-y', '-z')
                assert value in allowedValues, "The value for hemisphereUpDirection" \
                                               "should be one of the following: %s" \
                                               % (','.join(allowedValues))

                self._hemisphereUpDirection = value

        def __str__(self):
            outputFileSpec = "o=%s" % self.outputFile if self.outputFile else ''
            return "#@rfluxmtx h=%s u=%s %s" % (self.hemisphereType,
                                                self.hemisphereUpDirection,
                                                outputFileSpec)

    @classmethod
    def defaultSkyGround(cls, fileName, skyType=None):
        """

        Args:
            fileName:This should be the name of the file to which the sky defintion
                should be written to.

            skyType:The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).\n
                    kf for klems full.\n
                    kh for klems half.\n
                    kq for klems quarter.\n
                    rN for Reinhart - Tregenza type skies. N stands for
                        subdivisions and defaults to 1.\n
                    scN for shirley-chiu subdivisions.

        Returns:
            fileName: Passes back the same fileName that was provided as input.
        """

        skyParam = Rfluxmtx.ControlParameters(hemiType=skyType or 'r')
        groundParam = Rfluxmtx.ControlParameters(hemiType='u')
        groundString = Rfluxmtx.addControlParameters(Rfluxmtx.groundString,
                                                     {
                                                         'ground_glow': groundParam})
        skyString = Rfluxmtx.addControlParameters(Rfluxmtx.skyString,
                                                  {'sky_glow': skyParam})

        with open(fileName, 'w')as skyFile:
            skyFile.write(groundString + '\n' + skyString)

        return fileName

    @classmethod
    def addControlParameters(cls, inputString, modifierDict):
        if os.path.exists(inputString):
            with open(inputString)as fileString:
                fileData = fileString.read()
        else:
            fileData = inputString

        outputString = ''
        checkDict = dict.fromkeys(modifierDict.keys(), None)
        for lines in fileData.split('\n'):
            for key, value in modifierDict.items():
                if key in lines and not checkDict[
                    key] and not lines.strip().startswith('#'):
                    outputString += str(value) + '\n'
                    # outputString += lines.strip() + '\n'
                    checkDict[key] = True
            else:
                outputString += lines.strip() + '\n'

        for key, value in checkDict.items():
            assert value, "The modifier %s was not found in the string specified" % key

        if os.path.exists(inputString):
            newOutputFile = inputString + '_m'
            with open(newOutputFile, 'w')as newoutput:
                newoutput.write(outputString)
            outputString = newOutputFile
        return outputString

    @classmethod
    def checkForRfluxParameters(cls, fileVal):
        with open(fileVal)as rfluxFile:
            rfluxString = rfluxFile.read()
        assert '#@rfluxmtx' in rfluxString, \
            "The file %s does not have any rfluxmtx control parameters."
        return True

    # sender = RadiancePath('sender','sender file')
    receiverFile = RadiancePath('receiver','receiver file')
    octreeFile = RadiancePath('octree','octree file',extension='.oct')
    outputMatrix = RadiancePath('outputMatrix', 'output Matrix File')

    def __init__(self, sender=None, receiverFile=None, octreeFile=None,
                 radFiles=None, pointsFile=None, outputMatrix=None):

        RadianceCommand.__init__(self)

        self.sender = sender
        """Sender file will be either a rad file containing rfluxmtx variables
         or just a - """

        self.receiverFile = receiverFile
        """Receiver file will usually be the sky file containing rfluxmtx
        variables"""

        self.octreeFile = octreeFile
        """Octree file containing the other rad file in the scene."""

        self.radFiles = radFiles
        """Rad files other than the sender and receiver that are a part of the
          scene."""

        self.pointsFile = pointsFile
        """The points file or input vwrays for which the illuminance/luminance
        value are to be calculated."""

        self.outputMatrix = outputMatrix
        """The flux matrix file that will be created by rfluxmtx."""

        self.pointsFileData = ''

    @property
    def pointsFile(self):
        return self._pointsFile

    @pointsFile.setter
    def pointsFile(self, value):
        if value:
            if os.path.exists(value):
                with open(value)as pointsFile:
                    numberOfPoints = len(pointsFile.read().split())/6
                    self.pointsFileData += '-y %s' % numberOfPoints
                self._pointsFile = value

    @property
    def radFiles(self):
        """Get and set scene files."""
        return self.__radFiles

    @radFiles.setter
    def radFiles(self, files):
        if files:
            self.__radFiles = [os.path.normpath(f) for f in files]

    @property
    def rfluxmtxParameters(self):
        return self.__rfluxmtxParameters

    @rfluxmtxParameters.setter
    def rfluxmtxParameters(self,parameters):
        self.__rfluxmtxParameters = parameters if parameters is not None\
            else RfluxmtxParameters()

        assert hasattr(self.rfluxmtxParameters, "isRadianceParameters"), \
            "input rfluxmtxParameters is not a valid parameters type."

    def toRadString(self, relativePath=False):
        octree = self.octreeFile.toRadString()
        octree = '-i %s'%self.normspace(octree) if octree else ''

        radString = '{0} {8} {1} {2} {3} {4} {5} < {6} > {7}'.format(
            self.normspace(os.path.join(self.radbinPath, 'rfluxmtx')),
            self.rfluxmtxParameters.toRadString(),
            self.sender if self.sender else '',
            self.normspace(self.receiverFile.toRadString()),
            " ".join(self.radFiles),
            octree,
            self.normspace(self.pointsFile),
            self.normspace(self.outputMatrix.toRadString()),
            self.pointsFileData)
        return radString

    @property
    def inputFiles(self):
        return [self.receiverFile, self.pointsFile] + self.radFiles
</code></pre>
  </div>

  </header>

  <section id="section-items">


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx" class="name">class <span class="ident">Rfluxmtx</span></p>
      
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx" class="source">
    <pre><code>class Rfluxmtx(RadianceCommand):
    groundString = """
    void glow ground_glow
    0
    0
    4 1 1 1 0

    ground_glow source ground
    0
    0
    4 0 0 -1 180
    """

    skyString = """
    void glow sky_glow
    0
    0
    4 1 1 1 0

    sky_glow source sky
    0
    0
    4 0 0 1 180
    """

    class ControlParameters(object):
        def __init__(self, hemiType='u', hemiUpDirection='Y', outputFile=''):
            """Set the values for hemispheretype, hemisphere up direction
            and output file location(optional)."""
            self.hemisphereType = hemiType
            """
                The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).
                    kf for klems full.
                    kh for klems half.
                    kq for klems quarter.
                    rN for Reinhart - Tregenza type skies. N stands for subdivisions and defaults to 1.
                    scN for shirley-chiu subdivisions."""
            self.hemisphereUpDirection = hemiUpDirection
            """The acceptable inputs for hemisphere direction are %s""" % \
            (",".join(('X', 'Y', 'Z', 'x', 'y', 'z', '-X', '-Y',
                       '-Z', '-x', '-y', '-z')))
            self.outputFile = outputFile

        @property
        def hemisphereType(self):
            return self._hemisphereType

        @hemisphereType.setter
        def hemisphereType(self, value):
            """
                The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).\n
                    kf for klems full.\n
                    kh for klems half.\n
                    kq for klems quarter.\n
                    rN for Reinhart - Tregenza type skies. N stands for subdivisions and defaults to 1.\n
                    scN for shirley-chiu subdivisions."""
            if value:
                if value in ('u', 'kf', 'kh', 'kq'):
                    self._hemisphereType = value
                    return
                elif value.startswith('r'):
                    if len(value) > 1:
                        try:
                            num = int(value[1:])
                        except ValueError:
                            raise Exception(
                                "The format reinhart tregenza type skies is rN ."
                                "The value entered was %s" % value)
                    else:
                        num = ''
                    self._hemisphereType = 'r' + str(num)
                elif value.startswith('sc'):
                    if len(value) > 2:
                        try:
                            num = int(value[2:])
                        except ValueError:
                            raise Exception(
                                "The format for ShirleyChiu type values is scN."
                                "The value entered was %s" % value)
                    else:
                        raise Exception(
                            "The format for ShirleyChiu type values is scN."
                            "The value entered was %s" % value)
                    self._hemisphereType = 'sc' + str(num)
                else:
                    exceptStr = """
                    The acceptable inputs for hemisphere type are:
                        u for uniform.(Usually applicable for ground).
                        kf for klems full.
                        kh for klems half.
                        kq for klems quarter.
                        rN for Reinhart - Tregenza type skies. N stands for
                            subdivisions and defaults to 1.
                        scN for shirley-chiu subdivisions.
                    The value entered was %s
                    """ % (value)
                    raise Exception(exceptStr)

        @property
        def hemisphereUpDirection(self):
            return self._hemisphereUpDirection

        @hemisphereUpDirection.setter
        def hemisphereUpDirection(self, value):
            """The acceptable inputs for hemisphere direction are 'X', 'Y',
            'Z', 'x', 'y', 'z', '-X', '-Y','-Z', '-x', '-y','-z'"""
            if value:
                allowedValues = ('X', 'Y', 'Z', 'x', 'y', 'z', '-X', '-Y',
                                 '-Z', '-x', '-y', '-z')
                assert value in allowedValues, "The value for hemisphereUpDirection" \
                                               "should be one of the following: %s" \
                                               % (','.join(allowedValues))

                self._hemisphereUpDirection = value

        def __str__(self):
            outputFileSpec = "o=%s" % self.outputFile if self.outputFile else ''
            return "#@rfluxmtx h=%s u=%s %s" % (self.hemisphereType,
                                                self.hemisphereUpDirection,
                                                outputFileSpec)

    @classmethod
    def defaultSkyGround(cls, fileName, skyType=None):
        """

        Args:
            fileName:This should be the name of the file to which the sky defintion
                should be written to.

            skyType:The acceptable inputs for hemisphere type are:
                    u for uniform.(Usually applicable for ground).\n
                    kf for klems full.\n
                    kh for klems half.\n
                    kq for klems quarter.\n
                    rN for Reinhart - Tregenza type skies. N stands for
                        subdivisions and defaults to 1.\n
                    scN for shirley-chiu subdivisions.

        Returns:
            fileName: Passes back the same fileName that was provided as input.
        """

        skyParam = Rfluxmtx.ControlParameters(hemiType=skyType or 'r')
        groundParam = Rfluxmtx.ControlParameters(hemiType='u')
        groundString = Rfluxmtx.addControlParameters(Rfluxmtx.groundString,
                                                     {
                                                         'ground_glow': groundParam})
        skyString = Rfluxmtx.addControlParameters(Rfluxmtx.skyString,
                                                  {'sky_glow': skyParam})

        with open(fileName, 'w')as skyFile:
            skyFile.write(groundString + '\n' + skyString)

        return fileName

    @classmethod
    def addControlParameters(cls, inputString, modifierDict):
        if os.path.exists(inputString):
            with open(inputString)as fileString:
                fileData = fileString.read()
        else:
            fileData = inputString

        outputString = ''
        checkDict = dict.fromkeys(modifierDict.keys(), None)
        for lines in fileData.split('\n'):
            for key, value in modifierDict.items():
                if key in lines and not checkDict[
                    key] and not lines.strip().startswith('#'):
                    outputString += str(value) + '\n'
                    # outputString += lines.strip() + '\n'
                    checkDict[key] = True
            else:
                outputString += lines.strip() + '\n'

        for key, value in checkDict.items():
            assert value, "The modifier %s was not found in the string specified" % key

        if os.path.exists(inputString):
            newOutputFile = inputString + '_m'
            with open(newOutputFile, 'w')as newoutput:
                newoutput.write(outputString)
            outputString = newOutputFile
        return outputString

    @classmethod
    def checkForRfluxParameters(cls, fileVal):
        with open(fileVal)as rfluxFile:
            rfluxString = rfluxFile.read()
        assert '#@rfluxmtx' in rfluxString, \
            "The file %s does not have any rfluxmtx control parameters."
        return True

    # sender = RadiancePath('sender','sender file')
    receiverFile = RadiancePath('receiver','receiver file')
    octreeFile = RadiancePath('octree','octree file',extension='.oct')
    outputMatrix = RadiancePath('outputMatrix', 'output Matrix File')

    def __init__(self, sender=None, receiverFile=None, octreeFile=None,
                 radFiles=None, pointsFile=None, outputMatrix=None):

        RadianceCommand.__init__(self)

        self.sender = sender
        """Sender file will be either a rad file containing rfluxmtx variables
         or just a - """

        self.receiverFile = receiverFile
        """Receiver file will usually be the sky file containing rfluxmtx
        variables"""

        self.octreeFile = octreeFile
        """Octree file containing the other rad file in the scene."""

        self.radFiles = radFiles
        """Rad files other than the sender and receiver that are a part of the
          scene."""

        self.pointsFile = pointsFile
        """The points file or input vwrays for which the illuminance/luminance
        value are to be calculated."""

        self.outputMatrix = outputMatrix
        """The flux matrix file that will be created by rfluxmtx."""

        self.pointsFileData = ''

    @property
    def pointsFile(self):
        return self._pointsFile

    @pointsFile.setter
    def pointsFile(self, value):
        if value:
            if os.path.exists(value):
                with open(value)as pointsFile:
                    numberOfPoints = len(pointsFile.read().split())/6
                    self.pointsFileData += '-y %s' % numberOfPoints
                self._pointsFile = value

    @property
    def radFiles(self):
        """Get and set scene files."""
        return self.__radFiles

    @radFiles.setter
    def radFiles(self, files):
        if files:
            self.__radFiles = [os.path.normpath(f) for f in files]

    @property
    def rfluxmtxParameters(self):
        return self.__rfluxmtxParameters

    @rfluxmtxParameters.setter
    def rfluxmtxParameters(self,parameters):
        self.__rfluxmtxParameters = parameters if parameters is not None\
            else RfluxmtxParameters()

        assert hasattr(self.rfluxmtxParameters, "isRadianceParameters"), \
            "input rfluxmtxParameters is not a valid parameters type."

    def toRadString(self, relativePath=False):
        octree = self.octreeFile.toRadString()
        octree = '-i %s'%self.normspace(octree) if octree else ''

        radString = '{0} {8} {1} {2} {3} {4} {5} < {6} > {7}'.format(
            self.normspace(os.path.join(self.radbinPath, 'rfluxmtx')),
            self.rfluxmtxParameters.toRadString(),
            self.sender if self.sender else '',
            self.normspace(self.receiverFile.toRadString()),
            " ".join(self.radFiles),
            octree,
            self.normspace(self.pointsFile),
            self.normspace(self.outputMatrix.toRadString()),
            self.pointsFileData)
        return radString

    @property
    def inputFiles(self):
        return [self.receiverFile, self.pointsFile] + self.radFiles
</code></pre>
  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx">Rfluxmtx</a></li>
          <li>honeybeex.honeybee.radiance.command._commandbase.RadianceCommand</li>
          <li>__builtin__.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.ControlParameters" class="name">var <span class="ident">ControlParameters</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.groundString" class="name">var <span class="ident">groundString</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.octreeFile" class="name">var <span class="ident">octreeFile</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.outputMatrix" class="name">var <span class="ident">outputMatrix</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.receiverFile" class="name">var <span class="ident">receiverFile</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.skyString" class="name">var <span class="ident">skyString</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.normspace">
    <p>def <span class="ident">normspace</span>(</p><p>path)</p>
    </div>
    

    
  
    <div class="desc"><p>Norm white spaces in path.</p>
<p>Return path with quotation marks if there is whitespace in path.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.normspace', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.normspace" class="source">
    <pre><code>@staticmethod
def normspace(path):
    """Norm white spaces in path.
    Return path with quotation marks if there is whitespace in path.
    """
    if str(path).strip().find(" ") != -1:
        return "{0}{1}{0}".format(config.wrapper, path)
    else:
        return path
</code></pre>
  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.inputFiles" class="name">var <span class="ident">inputFiles</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.octreeFile" class="name">var <span class="ident">octreeFile</span></p>
            

            
  
    <div class="desc"><p>Octree file containing the other rad file in the scene.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.outputMatrix" class="name">var <span class="ident">outputMatrix</span></p>
            

            
  
    <div class="desc"><p>The flux matrix file that will be created by rfluxmtx.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.pointsFile" class="name">var <span class="ident">pointsFile</span></p>
            

            
  
    <div class="desc"><p>The points file or input vwrays for which the illuminance/luminance
value are to be calculated.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.pointsFileData" class="name">var <span class="ident">pointsFileData</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.radFiles" class="name">var <span class="ident">radFiles</span></p>
            

            
  
    <div class="desc"><p>Rad files other than the sender and receiver that are a part of the
scene.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.radbinPath" class="name">var <span class="ident">radbinPath</span></p>
            

            
  
    <div class="desc"><p>Get and set path to radiance binaries.</p>
<p>If you set a new value the value will be changed globally.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.radlibPath" class="name">var <span class="ident">radlibPath</span></p>
            

            
  
    <div class="desc"><p>Get and set path to radiance libraries.</p>
<p>If you set a new value the value will be changed globally.</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.receiverFile" class="name">var <span class="ident">receiverFile</span></p>
            

            
  
    <div class="desc"><p>Receiver file will usually be the sky file containing rfluxmtx
variables</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.rfluxmtxParameters" class="name">var <span class="ident">rfluxmtxParameters</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.sender" class="name">var <span class="ident">sender</span></p>
            

            
  
    <div class="desc"><p>Sender file will be either a rad file containing rfluxmtx variables
or just a -</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, sender=None, receiverFile=None, octreeFile=None, radFiles=None, pointsFile=None, outputMatrix=None)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.__init__', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.__init__" class="source">
    <pre><code>def __init__(self, sender=None, receiverFile=None, octreeFile=None,
             radFiles=None, pointsFile=None, outputMatrix=None):
    RadianceCommand.__init__(self)
    self.sender = sender
    """Sender file will be either a rad file containing rfluxmtx variables
     or just a - """
    self.receiverFile = receiverFile
    """Receiver file will usually be the sky file containing rfluxmtx
    variables"""
    self.octreeFile = octreeFile
    """Octree file containing the other rad file in the scene."""
    self.radFiles = radFiles
    """Rad files other than the sender and receiver that are a part of the
      scene."""
    self.pointsFile = pointsFile
    """The points file or input vwrays for which the illuminance/luminance
    value are to be calculated."""
    self.outputMatrix = outputMatrix
    """The flux matrix file that will be created by rfluxmtx."""
    self.pointsFileData = ''
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.addControlParameters">
    <p>def <span class="ident">addControlParameters</span>(</p><p>cls, inputString, modifierDict)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.addControlParameters', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.addControlParameters" class="source">
    <pre><code>@classmethod
def addControlParameters(cls, inputString, modifierDict):
    if os.path.exists(inputString):
        with open(inputString)as fileString:
            fileData = fileString.read()
    else:
        fileData = inputString
    outputString = ''
    checkDict = dict.fromkeys(modifierDict.keys(), None)
    for lines in fileData.split('\n'):
        for key, value in modifierDict.items():
            if key in lines and not checkDict[
                key] and not lines.strip().startswith('#'):
                outputString += str(value) + '\n'
                # outputString += lines.strip() + '\n'
                checkDict[key] = True
        else:
            outputString += lines.strip() + '\n'
    for key, value in checkDict.items():
        assert value, "The modifier %s was not found in the string specified" % key
    if os.path.exists(inputString):
        newOutputFile = inputString + '_m'
        with open(newOutputFile, 'w')as newoutput:
            newoutput.write(outputString)
        outputString = newOutputFile
    return outputString
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkForRfluxParameters">
    <p>def <span class="ident">checkForRfluxParameters</span>(</p><p>cls, fileVal)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkForRfluxParameters', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkForRfluxParameters" class="source">
    <pre><code>@classmethod
def checkForRfluxParameters(cls, fileVal):
    with open(fileVal)as rfluxFile:
        rfluxString = rfluxFile.read()
    assert '#@rfluxmtx' in rfluxString, \
        "The file %s does not have any rfluxmtx control parameters."
    return True
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkInputFiles">
    <p>def <span class="ident">checkInputFiles</span>(</p><p>self, radString=&#39;&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Make sure input files are set to a path.</p>
<p>This method doesn't check if the file exists since it might be created
later during the process.</p>
<p>Args:
    radString: Current radString to help user better understand the
        erorr (Default: "")</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkInputFiles', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.checkInputFiles" class="source">
    <pre><code>def checkInputFiles(self, radString=""):
    """Make sure input files are set to a path.
    This method doesn't check if the file exists since it might be created
    later during the process.
    Args:
        radString: Current radString to help user better understand the
            erorr (Default: "")
    """
    # make sure wea file is provided
    _msg = "To generate a valid %s command you need to specify the path" \
        " to inpt files:" \
        "\nCurrent command won't work: %s" \
        % (self.__class__.__name__, radString)
    if self.inputFiles is None:
        return
    for f in self.inputFiles:
        # this is for oconv where it has list of files which are not
        # RadiancePath
        if isinstance(f, str):
            continue
        assert hasattr(f, 'normpath'), "%s is missing!\n" % f + _msg
        assert f.normpath is not None, _msg
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.defaultSkyGround">
    <p>def <span class="ident">defaultSkyGround</span>(</p><p>cls, fileName, skyType=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Args:
    fileName:This should be the name of the file to which the sky defintion
        should be written to.</p>
<pre><code>skyType:The acceptable inputs for hemisphere type are:
        u for uniform.(Usually applicable for ground).

        kf for klems full.

        kh for klems half.

        kq for klems quarter.

        rN for Reinhart - Tregenza type skies. N stands for
            subdivisions and defaults to 1.

        scN for shirley-chiu subdivisions.
</code></pre>
<p>Returns:
    fileName: Passes back the same fileName that was provided as input.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.defaultSkyGround', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.defaultSkyGround" class="source">
    <pre><code>@classmethod
def defaultSkyGround(cls, fileName, skyType=None):
    """
    Args:
        fileName:This should be the name of the file to which the sky defintion
            should be written to.
        skyType:The acceptable inputs for hemisphere type are:
                u for uniform.(Usually applicable for ground).\n
                kf for klems full.\n
                kh for klems half.\n
                kq for klems quarter.\n
                rN for Reinhart - Tregenza type skies. N stands for
                    subdivisions and defaults to 1.\n
                scN for shirley-chiu subdivisions.
    Returns:
        fileName: Passes back the same fileName that was provided as input.
    """
    skyParam = Rfluxmtx.ControlParameters(hemiType=skyType or 'r')
    groundParam = Rfluxmtx.ControlParameters(hemiType='u')
    groundString = Rfluxmtx.addControlParameters(Rfluxmtx.groundString,
                                                 {
                                                     'ground_glow': groundParam})
    skyString = Rfluxmtx.addControlParameters(Rfluxmtx.skyString,
                                              {'sky_glow': skyParam})
    with open(fileName, 'w')as skyFile:
        skyFile.write(groundString + '\n' + skyString)
    return fileName
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.execute">
    <p>def <span class="ident">execute</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Execute the command.</p>
<p>Returns:
    Return fullpath to the result file if any as a string.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.execute', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.execute" class="source">
    <pre><code>def execute(self):
    """Execute the command.
    Returns:
        Return fullpath to the result file if any as a string.
    """
    # check if the files exist on the computer
    self.__checkFiles()
    self.onExecution()
    if os.name == 'nt':
        os.environ['PATH'] += ';%s' % self.normspace(config.radbinPath)
        os.environ['RAYPATH'] += ';%s' % self.normspace(config.radlibPath)
    p = subprocess.Popen(self.toRadString(), shell=True,
                         stdout=subprocess.PIPE, stderr=subprocess.STDOUT)
    for line in p.stdout.readlines():
        print line,
    p.wait()
    try:
        if os.path.split(self.outputFile.normpath)[0] == "":
            # add directory to file if it's not a full path
            return os.path.join(os.getcwd(),
                                self.outputFile.normpath)
        # return output file
        return self.outputFile
    except AttributeError:
        # this command doesn't have an output file
        pass
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onExecution">
    <p>def <span class="ident">onExecution</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Overwrite this method to add extra specific checks for the command.</p>
<p>For instance for rcontrib you want to make sure there is at least one
modifier set in the command. This method will be executed right before
running the command.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onExecution', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onExecution" class="source">
    <pre><code>def onExecution(self):
    """Overwrite this method to add extra specific checks for the command.
    For instance for rcontrib you want to make sure there is at least one
    modifier set in the command. This method will be executed right before
    running the command.
    """
    pass
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onToRadString">
    <p>def <span class="ident">onToRadString</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Overwrite this method to add extra specific checks while generating rad string.</p>
<p>For instance for rcontrib you want to make sure there is at least one
modifier set in the command. This method will be executed right before
running the command.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onToRadString', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.onToRadString" class="source">
    <pre><code>def onToRadString(self):
    """Overwrite this method to add extra specific checks while generating rad string.
    For instance for rcontrib you want to make sure there is at least one
    modifier set in the command. This method will be executed right before
    running the command.
    """
    pass
</code></pre>
  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.toRadString">
    <p>def <span class="ident">toRadString</span>(</p><p>self, relativePath=False)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.toRadString', this);">Show source &equiv;</a></p>
  <div id="source-honeybeex.honeybee.radiance.command.rfluxmtx.Rfluxmtx.toRadString" class="source">
    <pre><code>def toRadString(self, relativePath=False):
    octree = self.octreeFile.toRadString()
    octree = '-i %s'%self.normspace(octree) if octree else ''
    radString = '{0} {8} {1} {2} {3} {4} {5} < {6} > {7}'.format(
        self.normspace(os.path.join(self.radbinPath, 'rfluxmtx')),
        self.rfluxmtxParameters.toRadString(),
        self.sender if self.sender else '',
        self.normspace(self.receiverFile.toRadString()),
        " ".join(self.radFiles),
        octree,
        self.normspace(self.pointsFile),
        self.normspace(self.outputMatrix.toRadString()),
        self.pointsFileData)
    return radString
</code></pre>
  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.1</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a>
    </p>
  </footer>
</div>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
